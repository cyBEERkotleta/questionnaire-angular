{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\nimport * as i2 from \"../field-name/field-name.component\";\nimport * as i3 from \"../checkbox/checkbox.component\";\nfunction CheckboxGroupComponent_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 4)(1, \"app-checkbox\", 5);\n    i0.ɵɵlistener(\"itemSelection\", function CheckboxGroupComponent_div_4_Template_app_checkbox_itemSelection_1_listener($event) {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.onChange($event));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(2, \"br\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const item_r1 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"text\", item_r1);\n  }\n}\nexport class CheckboxGroupComponent {\n  constructor() {\n    this.required = false;\n    this.showError = false;\n    this.selectedOptions = [];\n  }\n  onChange(checkBoxState) {\n    this.removeStateFromSelectedOptions(checkBoxState);\n    if (checkBoxState.active) this.selectedOptions.push(checkBoxState);\n    this.formElement.setValue(this.selectedOptions);\n  }\n  removeStateFromSelectedOptions(checkBoxState) {\n    this.selectedOptions = this.selectedOptions.filter(opt => opt.text != checkBoxState.text);\n  }\n}\nCheckboxGroupComponent.ɵfac = function CheckboxGroupComponent_Factory(t) {\n  return new (t || CheckboxGroupComponent)();\n};\nCheckboxGroupComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: CheckboxGroupComponent,\n  selectors: [[\"app-checkbox-group\"]],\n  inputs: {\n    fieldName: \"fieldName\",\n    required: \"required\",\n    formElement: \"formElement\",\n    showError: \"showError\",\n    optionNames: \"optionNames\"\n  },\n  decls: 5,\n  vars: 3,\n  consts: [[1, \"pt-3\"], [1, \"border-1\", \"border-gray-500\", \"rounded\", \"block\"], [3, \"fieldName\", \"required\"], [\"class\", \"flex items-center flex-row gap-x-1\", 4, \"ngFor\", \"ngForOf\"], [1, \"flex\", \"items-center\", \"flex-row\", \"gap-x-1\"], [3, \"text\", \"itemSelection\"]],\n  template: function CheckboxGroupComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"fieldset\", 1)(2, \"legend\");\n      i0.ɵɵelement(3, \"app-field-name\", 2);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(4, CheckboxGroupComponent_div_4_Template, 3, 1, \"div\", 3);\n      i0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"fieldName\", ctx.fieldName)(\"required\", ctx.required);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngForOf\", ctx.optionNames);\n    }\n  },\n  dependencies: [i1.NgForOf, i2.FieldNameComponent, i3.CheckboxComponent],\n  styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵlistener","CheckboxGroupComponent_div_4_Template_app_checkbox_itemSelection_1_listener","$event","ɵɵrestoreView","_r3","ctx_r2","ɵɵnextContext","ɵɵresetView","onChange","ɵɵelementEnd","ɵɵelement","ɵɵadvance","ɵɵproperty","item_r1","CheckboxGroupComponent","constructor","required","showError","selectedOptions","checkBoxState","removeStateFromSelectedOptions","active","push","formElement","setValue","filter","opt","text","selectors","inputs","fieldName","optionNames","decls","vars","consts","template","CheckboxGroupComponent_Template","rf","ctx","ɵɵtemplate","CheckboxGroupComponent_div_4_Template"],"sources":["C:\\Важное\\6 семестр =)\\Практыка\\Проект\\questionnaire\\angular-questionnaire\\src\\app\\little-components\\checkbox-group\\checkbox-group.component.ts","C:\\Важное\\6 семестр =)\\Практыка\\Проект\\questionnaire\\angular-questionnaire\\src\\app\\little-components\\checkbox-group\\checkbox-group.component.html"],"sourcesContent":["import {Component, Input} from '@angular/core';\r\nimport {FormControl} from \"@angular/forms\";\r\nimport {CheckBoxState} from \"../../additional/CheckBoxState\";\r\n\r\n@Component({\r\n  selector: 'app-checkbox-group',\r\n  templateUrl: './checkbox-group.component.html',\r\n  styleUrls: ['./checkbox-group.component.css']\r\n})\r\nexport class CheckboxGroupComponent {\r\n  @Input() fieldName: string;\r\n  @Input() required: boolean = false;\r\n  @Input() formElement: FormControl<CheckBoxState[]>;\r\n  @Input() showError: boolean = false;\r\n\r\n  @Input() optionNames: string[];\r\n\r\n  selectedOptions: CheckBoxState[] = [];\r\n\r\n  onChange(checkBoxState: CheckBoxState) {\r\n    this.removeStateFromSelectedOptions(checkBoxState);\r\n    if (checkBoxState.active)\r\n      this.selectedOptions.push(checkBoxState);\r\n\r\n    this.formElement.setValue(this.selectedOptions);\r\n  }\r\n\r\n  private removeStateFromSelectedOptions(checkBoxState: CheckBoxState) {\r\n    this.selectedOptions = this.selectedOptions\r\n      .filter(opt => opt.text != checkBoxState.text);\r\n  }\r\n}\r\n","<div class=\"pt-3\">\r\n  <fieldset class=\"border-1 border-gray-500 rounded block\">\r\n    <legend>\r\n      <app-field-name\r\n        [fieldName]=\"fieldName\"\r\n        [required]=\"required\"\r\n      ></app-field-name>\r\n    </legend>\r\n\r\n    <div class=\"flex items-center flex-row gap-x-1\"\r\n         *ngFor=\"let item of optionNames\"\r\n    >\r\n      <app-checkbox\r\n        [text]=\"item\"\r\n        (itemSelection)=\"onChange($event)\"\r\n      ></app-checkbox>\r\n      <br/>\r\n    </div>\r\n  </fieldset>\r\n</div>\r\n"],"mappings":";;;;;;;ICSIA,EAAA,CAAAC,cAAA,aAEC;IAGGD,EAAA,CAAAE,UAAA,2BAAAC,4EAAAC,MAAA;MAAAJ,EAAA,CAAAK,aAAA,CAAAC,GAAA;MAAA,MAAAC,MAAA,GAAAP,EAAA,CAAAQ,aAAA;MAAA,OAAiBR,EAAA,CAAAS,WAAA,CAAAF,MAAA,CAAAG,QAAA,CAAAN,MAAA,CAAgB;IAAA,EAAC;IACnCJ,EAAA,CAAAW,YAAA,EAAe;IAChBX,EAAA,CAAAY,SAAA,SAAK;IACPZ,EAAA,CAAAW,YAAA,EAAM;;;;IAJFX,EAAA,CAAAa,SAAA,GAAa;IAAbb,EAAA,CAAAc,UAAA,SAAAC,OAAA,CAAa;;;ADJrB,OAAM,MAAOC,sBAAsB;EALnCC,YAAA;IAOW,KAAAC,QAAQ,GAAY,KAAK;IAEzB,KAAAC,SAAS,GAAY,KAAK;IAInC,KAAAC,eAAe,GAAoB,EAAE;;EAErCV,QAAQA,CAACW,aAA4B;IACnC,IAAI,CAACC,8BAA8B,CAACD,aAAa,CAAC;IAClD,IAAIA,aAAa,CAACE,MAAM,EACtB,IAAI,CAACH,eAAe,CAACI,IAAI,CAACH,aAAa,CAAC;IAE1C,IAAI,CAACI,WAAW,CAACC,QAAQ,CAAC,IAAI,CAACN,eAAe,CAAC;EACjD;EAEQE,8BAA8BA,CAACD,aAA4B;IACjE,IAAI,CAACD,eAAe,GAAG,IAAI,CAACA,eAAe,CACxCO,MAAM,CAACC,GAAG,IAAIA,GAAG,CAACC,IAAI,IAAIR,aAAa,CAACQ,IAAI,CAAC;EAClD;;AArBWb,sBAAsB,C;mBAAtBA,sBAAsB;AAAA;AAAtBA,sBAAsB,C;QAAtBA,sBAAsB;EAAAc,SAAA;EAAAC,MAAA;IAAAC,SAAA;IAAAd,QAAA;IAAAO,WAAA;IAAAN,SAAA;IAAAc,WAAA;EAAA;EAAAC,KAAA;EAAAC,IAAA;EAAAC,MAAA;EAAAC,QAAA,WAAAC,gCAAAC,EAAA,EAAAC,GAAA;IAAA,IAAAD,EAAA;MCTnCvC,EAAA,CAAAC,cAAA,aAAkB;MAGZD,EAAA,CAAAY,SAAA,wBAGkB;MACpBZ,EAAA,CAAAW,YAAA,EAAS;MAETX,EAAA,CAAAyC,UAAA,IAAAC,qCAAA,iBAQM;MACR1C,EAAA,CAAAW,YAAA,EAAW;;;MAdLX,EAAA,CAAAa,SAAA,GAAuB;MAAvBb,EAAA,CAAAc,UAAA,cAAA0B,GAAA,CAAAR,SAAA,CAAuB,aAAAQ,GAAA,CAAAtB,QAAA;MAMLlB,EAAA,CAAAa,SAAA,GAAc;MAAdb,EAAA,CAAAc,UAAA,YAAA0B,GAAA,CAAAP,WAAA,CAAc"},"metadata":{},"sourceType":"module","externalDependencies":[]}