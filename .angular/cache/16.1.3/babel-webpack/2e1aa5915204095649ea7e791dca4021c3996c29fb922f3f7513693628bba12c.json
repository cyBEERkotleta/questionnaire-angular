{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../service/user.service\";\nimport * as i2 from \"../../service/session.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"../../little-components/logotype-text/logotype-text.component\";\nfunction NavigationMenuComponent_a_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"a\", 8);\n    i0.ɵɵtext(1, \"\\u041C\\u043E\\u0438 \\u0444\\u043E\\u0440\\u043C\\u044B\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction NavigationMenuComponent_a_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"a\", 9);\n    i0.ɵɵtext(1, \"\\u041F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u0438\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction NavigationMenuComponent_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 10)(1, \"button\", 11);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 12)(4, \"a\", 13);\n    i0.ɵɵtext(5, \"\\u041C\\u043E\\u0439 \\u043F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044C\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"a\", 13);\n    i0.ɵɵtext(7, \"\\u0421\\u043C\\u0435\\u043D\\u0438\\u0442\\u044C \\u043F\\u0430\\u0440\\u043E\\u043B\\u044C\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"a\", 14);\n    i0.ɵɵlistener(\"click\", function NavigationMenuComponent_div_10_Template_a_click_8_listener() {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.logOut());\n    });\n    i0.ɵɵtext(9, \"\\u0412\\u044B\\u0439\\u0442\\u0438\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", ctx_r2.getUserName(), \" \\u25BC\");\n  }\n}\nexport class NavigationMenuComponent {\n  constructor(userService, sessionService, router) {\n    this.userService = userService;\n    this.sessionService = sessionService;\n    this.router = router;\n  }\n  ngOnInit() {\n    this.userService.updateCurrentUser().subscribe(result => {\n      this.user = result;\n    });\n  }\n  getUserName() {\n    if (this.userService.isUserPresent(this.user)) return this.user.firstName + ' ' + this.user.lastName;\n    return 'Мой профиль';\n  }\n  logOut() {\n    this.userService.logOut();\n    this.doTransferToMainPage();\n  }\n  doTransferToMainPage() {\n    this.router.navigate(['/']);\n  }\n}\nNavigationMenuComponent.ɵfac = function NavigationMenuComponent_Factory(t) {\n  return new (t || NavigationMenuComponent)(i0.ɵɵdirectiveInject(i1.UserService), i0.ɵɵdirectiveInject(i2.SessionService), i0.ɵɵdirectiveInject(i3.Router));\n};\nNavigationMenuComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: NavigationMenuComponent,\n  selectors: [[\"app-navigation-menu\"]],\n  decls: 11,\n  vars: 3,\n  consts: [[1, \"navigation_menu\"], [\"routerLink\", \"/\", 1, \"text-decoration-none\"], [1, \"menu-items-div\"], [1, \"menu-items-in-row\"], [\"routerLink\", \"/topics\", 1, \"menu-item\"], [\"routerLink\", \"/\", \"class\", \"menu-item\", 4, \"ngIf\"], [\"routerLink\", \"/user-list\", \"class\", \"menu-item\", 4, \"ngIf\"], [\"class\", \"dropdown\", 4, \"ngIf\"], [\"routerLink\", \"/\", 1, \"menu-item\"], [\"routerLink\", \"/user-list\", 1, \"menu-item\"], [1, \"dropdown\"], [1, \"dropbtn\"], [1, \"dropdown-content\"], [\"href\", \"\"], [\"href\", \"\", 3, \"click\"]],\n  template: function NavigationMenuComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"nav\", 0)(1, \"h1\")(2, \"a\", 1);\n      i0.ɵɵelement(3, \"app-logotype-text\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(4, \"div\", 2)(5, \"div\", 3)(6, \"a\", 4);\n      i0.ɵɵtext(7, \"\\u041A\\u0430\\u0442\\u0430\\u043B\\u043E\\u0433\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(8, NavigationMenuComponent_a_8_Template, 2, 0, \"a\", 5);\n      i0.ɵɵtemplate(9, NavigationMenuComponent_a_9_Template, 2, 0, \"a\", 6);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(10, NavigationMenuComponent_div_10_Template, 10, 1, \"div\", 7);\n      i0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(8);\n      i0.ɵɵproperty(\"ngIf\", ctx.sessionService.isCurrentUserAuthorized());\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.sessionService.isCurrentUserAdmin());\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.sessionService.isCurrentUserAuthorized());\n    }\n  },\n  dependencies: [i4.NgIf, i3.RouterLink, i5.LogotypeTextComponent],\n  styles: [\"var[_ngcontent-%COMP%]   resource[_ngcontent-%COMP%];\\n\\n (()[_ngcontent-%COMP%]   =[_ngcontent-%COMP%] >  { // webpackBootstrap\\n\\n \\tvar __webpack_modules__ = ({\\n\\n\\n 123:\\n\\n\\n\\n\\n\\n (() => {\\n\\nthrow new Error(\\\"Module build failed (from ./node_modules/postcss-loader/dist/cjs.js):\\\\n\\\\nSyntaxError\\\\n\\\\n(27:3) C:\\\\\\\\\\u0412\\u0430\\u0436\\u043D\\u043E\\u0435\\\\\\\\6 \\u0441\\u0435\\u043C\\u0435\\u0441\\u0442\\u0440 =)\\\\\\\\\\u041F\\u0440\\u0430\\u043A\\u0442\\u044B\\u043A\\u0430\\\\\\\\\\u041F\\u0440\\u043E\\u0435\\u043A\\u0442\\\\\\\\questionnaire\\\\\\\\angular-questionnaire\\\\\\\\src\\\\\\\\app\\\\\\\\components\\\\\\\\navigation-menu\\\\\\\\navigation-menu.component.css The `` class does not exist. If `` is a custom class, make sure it is defined within a `@layer` directive.\\\\n\\\\n \\\\u001b[90m 25 | \\\\u001b[39m  position\\\\u001b[33m:\\\\u001b[39m relative\\\\u001b[33m;\\\\u001b[39m\\\\n \\\\u001b[90m 26 | \\\\u001b[39m  display\\\\u001b[33m:\\\\u001b[39m inline-block\\\\u001b[33m;\\\\u001b[39m\\\\n\\\\u001b[1m\\\\u001b[31m>\\\\u001b[39m\\\\u001b[22m\\\\u001b[90m 27 | \\\\u001b[39m  \\\\u001b[36m@apply\\\\u001b[39m \\\\u001b[90m\\n\\\\u001b[39m\\\\u001b[33m;\\\\u001b[39m\\\\n \\\\u001b[90m    | \\\\u001b[39m  \\\\u001b[1m\\\\u001b[31m^\\\\u001b[39m\\\\u001b[22m\\\\n \\\\u001b[90m 28 | \\\\u001b[39m\\\\u001b[33m}\\\\u001b[39m\\\\n \\\\u001b[90m 29 | \\\\u001b[39m\\\\n\\\");\\n\\n\\n })\\n\\n\\n \\t})[_ngcontent-%COMP%];\\n\\n\\n\\n \\t\\n\\n \\t//[_ngcontent-%COMP%]   startup\\n\\n[_ngcontent-%COMP%]   //[_ngcontent-%COMP%]   Load[_ngcontent-%COMP%]   entry[_ngcontent-%COMP%]   module[_ngcontent-%COMP%]   and[_ngcontent-%COMP%]   return[_ngcontent-%COMP%]   exports\\n\\n[_ngcontent-%COMP%]   //[_ngcontent-%COMP%]   This[_ngcontent-%COMP%]   entry[_ngcontent-%COMP%]   module[_ngcontent-%COMP%]   doesn't[_ngcontent-%COMP%]   tell[_ngcontent-%COMP%]   about[_ngcontent-%COMP%]   it's[_ngcontent-%COMP%]   top-level[_ngcontent-%COMP%]   declarations[_ngcontent-%COMP%]   so[_ngcontent-%COMP%]   it[_ngcontent-%COMP%]   can't[_ngcontent-%COMP%]   be[_ngcontent-%COMP%]   inlined\\n\\n[_ngcontent-%COMP%]   var[_ngcontent-%COMP%]   __webpack_exports__[_ngcontent-%COMP%]   =[_ngcontent-%COMP%] {};\\n\\n \\t__webpack_modules__[123]();\\n\\n \\tresource = __webpack_exports__;\\n\\n \\t\\n\\n })()\\n;\\n/*# sourceMappingURL=navigation-menu.component.css.map*/\"]\n});","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵlistener","NavigationMenuComponent_div_10_Template_a_click_8_listener","ɵɵrestoreView","_r4","ctx_r3","ɵɵnextContext","ɵɵresetView","logOut","ɵɵadvance","ɵɵtextInterpolate1","ctx_r2","getUserName","NavigationMenuComponent","constructor","userService","sessionService","router","ngOnInit","updateCurrentUser","subscribe","result","user","isUserPresent","firstName","lastName","doTransferToMainPage","navigate","ɵɵdirectiveInject","i1","UserService","i2","SessionService","i3","Router","selectors","decls","vars","consts","template","NavigationMenuComponent_Template","rf","ctx","ɵɵelement","ɵɵtemplate","NavigationMenuComponent_a_8_Template","NavigationMenuComponent_a_9_Template","NavigationMenuComponent_div_10_Template","ɵɵproperty","isCurrentUserAuthorized","isCurrentUserAdmin"],"sources":["C:\\Важное\\6 семестр =)\\Практыка\\Проект\\questionnaire\\angular-questionnaire\\src\\app\\components\\navigation-menu\\navigation-menu.component.ts","C:\\Важное\\6 семестр =)\\Практыка\\Проект\\questionnaire\\angular-questionnaire\\src\\app\\components\\navigation-menu\\navigation-menu.component.html"],"sourcesContent":["import {Component, OnInit} from '@angular/core';\nimport {User} from \"../../entity/User\";\nimport {UserService} from \"../../service/user.service\";\nimport {Router} from \"@angular/router\";\nimport {SessionService} from \"../../service/session.service\";\n\n@Component({\n  selector: 'app-navigation-menu',\n  templateUrl: './navigation-menu.component.html',\n  styleUrls: ['./navigation-menu.component.css']\n})\nexport class NavigationMenuComponent implements OnInit {\n  private userService: UserService;\n  sessionService: SessionService;\n  private router: Router;\n\n  user: User;\n\n  constructor(userService: UserService,\n              sessionService: SessionService,\n              router: Router) {\n    this.userService = userService;\n    this.sessionService = sessionService;\n    this.router = router;\n  }\n\n\n  ngOnInit(): void {\n    this.userService.updateCurrentUser()\n      .subscribe(result => {\n        this.user = result;\n      });\n  }\n\n  getUserName(): string {\n    if (this.userService.isUserPresent(this.user))\n      return this.user.firstName + ' ' + this.user.lastName;\n    return 'Мой профиль';\n  }\n\n  logOut() {\n    this.userService.logOut();\n    this.doTransferToMainPage();\n  }\n\n  doTransferToMainPage() {\n    this.router.navigate(['/']);\n  }\n}\n","<nav class=\"navigation_menu\"\n>\n  <h1>\n    <a routerLink=\"/\" class=\"text-decoration-none\">\n      <app-logotype-text></app-logotype-text>\n    </a>\n  </h1>\n\n  <div class=\"menu-items-div\"\n  >\n    <div class=\"menu-items-in-row\">\n      <a routerLink=\"/topics\" class=\"menu-item\">Каталог</a>\n      <a *ngIf=\"sessionService.isCurrentUserAuthorized()\" routerLink=\"/\" class=\"menu-item\">Мои формы</a>\n      <a *ngIf=\"sessionService.isCurrentUserAdmin()\" routerLink=\"/user-list\" class=\"menu-item\">Пользователи</a>\n    </div>\n\n    <div *ngIf=\"sessionService.isCurrentUserAuthorized()\"\n         class=\"dropdown\"\n    >\n      <button class=\"dropbtn\">{{getUserName()}} ▼</button>\n      <div class=\"dropdown-content\">\n        <a href=\"\">Мой профиль</a>\n        <a href=\"\">Сменить пароль</a>\n        <a href=\"\" (click)=\"logOut()\">Выйти</a>\n      </div>\n    </div>\n  </div>\n</nav>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}