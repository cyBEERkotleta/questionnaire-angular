{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../service/user.service\";\nimport * as i2 from \"../../service/form.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/router\";\nimport * as i5 from \"../../little-components/middle-control/middle-control.component\";\nfunction UserProfileComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelement(1, \"img\", 7);\n    i0.ɵɵelementEnd();\n  }\n}\nfunction UserProfileComponent_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelement(1, \"img\", 8);\n    i0.ɵɵelementEnd();\n  }\n}\nfunction UserProfileComponent_app_middle_control_31_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"app-middle-control\")(1, \"button\", 9);\n    i0.ɵɵtext(2, \"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C \\u043F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044C\");\n    i0.ɵɵelementEnd()();\n  }\n}\nexport let UserProfileComponent = /*#__PURE__*/(() => {\n  class UserProfileComponent {\n    constructor(userService, formService) {\n      this.userService = userService;\n      this.formService = formService;\n    }\n    ngOnInit() {\n      this.subscriptionUser = this.userService.updateCurrentUser().subscribe(result => {\n        this.sessionUser = result;\n      });\n      this.subscriptionForms = this.formService.getFormsByUserId(this.user.id).subscribe(result => {\n        this.forms = result;\n      });\n    }\n    ngOnDestroy() {\n      if (this.subscriptionUser) this.subscriptionUser.unsubscribe();\n      if (this.subscriptionForms) this.subscriptionForms.unsubscribe();\n    }\n    isMale() {\n      if (!this.user) return true;\n      return this.user.gender.name == 'MALE';\n    }\n    isFemale() {\n      if (!this.user) return false;\n      return this.user.gender.name == 'FEMALE';\n    }\n    isProfileOwn() {\n      if (this.sessionUser && this.user) {\n        return this.sessionUser.id == this.user.id;\n      } else {\n        return false;\n      }\n    }\n    getUserName() {\n      if (!this.user) return '';\n      return this.user.firstName + ' ' + this.user.lastName;\n    }\n    getUserEmail() {\n      if (!this.user) return '';\n      return this.user.email;\n    }\n    getUserPhone() {\n      if (!this.user) return '';\n      return this.user.phoneNumber;\n    }\n    getFormCount() {\n      if (!this.forms || !this.forms.length) return '0';\n      return this.forms.length.toString();\n    }\n    getUserGenderName() {\n      if (!this.user) return '';\n      return this.user.gender.shownName;\n    }\n  }\n  UserProfileComponent.ɵfac = function UserProfileComponent_Factory(t) {\n    return new (t || UserProfileComponent)(i0.ɵɵdirectiveInject(i1.UserService), i0.ɵɵdirectiveInject(i2.FormService));\n  };\n  UserProfileComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: UserProfileComponent,\n    selectors: [[\"app-user-profile\"]],\n    inputs: {\n      user: \"user\"\n    },\n    decls: 32,\n    vars: 8,\n    consts: [[1, \"profile-and-button\"], [1, \"profile-items\"], [4, \"ngIf\"], [1, \"flex\", \"flex-column\", \"justify-content-start\"], [1, \"m-1\"], [1, \"user-description-title\"], [1, \"user-description-text\"], [\"ngSrc\", \"assets/images/user_male_icon.png\", \"height\", \"592\", \"width\", \"438\", 1, \"user-profile-image\"], [\"ngSrc\", \"assets/images/user_female_icon.png\", \"height\", \"592\", \"width\", \"438\", 1, \"user-profile-image\"], [\"routerLink\", \"/edit-my-profile\", 1, \"button-dark\"]],\n    template: function UserProfileComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"app-middle-control\")(1, \"div\", 0)(2, \"div\", 1);\n        i0.ɵɵtemplate(3, UserProfileComponent_div_3_Template, 2, 0, \"div\", 2);\n        i0.ɵɵtemplate(4, UserProfileComponent_div_4_Template, 2, 0, \"div\", 2);\n        i0.ɵɵelementStart(5, \"div\", 3)(6, \"p\", 4)(7, \"span\", 5);\n        i0.ɵɵtext(8, \"\\u0418\\u043C\\u044F: \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(9, \"span\", 6);\n        i0.ɵɵtext(10);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(11, \"p\", 4)(12, \"span\", 5);\n        i0.ɵɵtext(13, \"\\u041F\\u043E\\u043B: \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(14, \"span\", 6);\n        i0.ɵɵtext(15);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(16, \"p\", 4)(17, \"span\", 5);\n        i0.ɵɵtext(18, \"Email: \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(19, \"span\", 6);\n        i0.ɵɵtext(20);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(21, \"p\", 4)(22, \"span\", 5);\n        i0.ɵɵtext(23, \"\\u041D\\u043E\\u043C\\u0435\\u0440 \\u0442\\u0435\\u043B\\u0435\\u0444\\u043E\\u043D\\u0430: \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(24, \"span\", 6);\n        i0.ɵɵtext(25);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(26, \"p\", 4)(27, \"span\", 5);\n        i0.ɵɵtext(28, \"\\u0424\\u043E\\u0440\\u043C \\u0441\\u043E\\u0437\\u0434\\u0430\\u043D\\u043E: \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(29, \"span\", 6);\n        i0.ɵɵtext(30);\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵtemplate(31, UserProfileComponent_app_middle_control_31_Template, 3, 0, \"app-middle-control\", 2);\n        i0.ɵɵelementEnd()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngIf\", ctx.isMale());\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.isFemale());\n        i0.ɵɵadvance(6);\n        i0.ɵɵtextInterpolate(ctx.getUserName());\n        i0.ɵɵadvance(5);\n        i0.ɵɵtextInterpolate(ctx.getUserGenderName());\n        i0.ɵɵadvance(5);\n        i0.ɵɵtextInterpolate(ctx.getUserEmail());\n        i0.ɵɵadvance(5);\n        i0.ɵɵtextInterpolate1(\"+\", ctx.getUserPhone(), \"\");\n        i0.ɵɵadvance(5);\n        i0.ɵɵtextInterpolate(ctx.getFormCount());\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.isProfileOwn());\n      }\n    },\n    dependencies: [i3.NgIf, i4.RouterLink, i3.NgOptimizedImage, i5.MiddleControlComponent],\n    styles: [\".profile-items[_ngcontent-%COMP%]{display:inline-flex;flex-direction:row;align-items:center;justify-content:flex-start;column-gap:4rem;padding:.5rem 1rem}.user-profile-image[_ngcontent-%COMP%]{margin-bottom:.5rem;border-radius:9999px;border-width:8px;border-style:double;--tw-border-opacity: 1;border-color:rgb(147 197 253 / var(--tw-border-opacity));width:200px}.user-description-title[_ngcontent-%COMP%]{font-size:1.125rem;line-height:1.75rem;font-weight:700;--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity))}.user-description-text[_ngcontent-%COMP%]{font-size:1.125rem;line-height:1.75rem;--tw-text-opacity: 1;color:rgb(75 85 99 / var(--tw-text-opacity))}.profile-and-button[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:flex-start;row-gap:2.5rem}@media (max-width: 800px){.profile-items[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:flex-start;row-gap:1rem;padding:.5rem}}\"]\n  });\n  return UserProfileComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}