{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../service/answered-form.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"../answered-form-item/answered-form-item.component\";\nfunction ManageAnswersComponent_div_0_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 2);\n    i0.ɵɵelement(2, \"app-answered-form-item\", 3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"p\", 4);\n    i0.ɵɵtext(4, \" * * * \");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const answeredForm_r2 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"answeredForm\", answeredForm_r2);\n  }\n}\nfunction ManageAnswersComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, ManageAnswersComponent_div_0_div_1_Template, 5, 1, \"div\", 1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.answeredForms);\n  }\n}\nexport class ManageAnswersComponent {\n  constructor(answeredFormService) {\n    this.loading = false;\n    this.answeredFormService = answeredFormService;\n  }\n  ngOnInit() {\n    this.loadAnswers();\n  }\n  ngOnDestroy() {\n    if (this.subscriptionNewData) this.subscriptionNewData.unsubscribe();\n  }\n  loadAnswers() {\n    this.loading = true;\n    if (this.subscriptionNewData) this.subscriptionNewData.unsubscribe();\n    this.subscriptionNewData = this.answeredFormService.getAnsweredFormsByFormId(this.formId).subscribe(result => {\n      this.answeredForms = result;\n      this.loading = false;\n    });\n  }\n}\nManageAnswersComponent.ɵfac = function ManageAnswersComponent_Factory(t) {\n  return new (t || ManageAnswersComponent)(i0.ɵɵdirectiveInject(i1.AnsweredFormService));\n};\nManageAnswersComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ManageAnswersComponent,\n  selectors: [[\"app-manage-answers\"]],\n  inputs: {\n    formId: \"formId\"\n  },\n  decls: 1,\n  vars: 1,\n  consts: [[4, \"ngIf\"], [4, \"ngFor\", \"ngForOf\"], [1, \"border-2\", \"border-gray-300\", \"rounded-xl\", \"mt-1\", \"mb-1\"], [3, \"answeredForm\"], [1, \"text-xl\", \"text-black\", \"text-center\", \"my-0\"]],\n  template: function ManageAnswersComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, ManageAnswersComponent_div_0_Template, 2, 1, \"div\", 0);\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngIf\", !ctx.loading);\n    }\n  },\n  dependencies: [i2.NgForOf, i2.NgIf, i3.AnsweredFormItemComponent],\n  styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵelement","ɵɵelementEnd","ɵɵtext","ɵɵadvance","ɵɵproperty","answeredForm_r2","ɵɵtemplate","ManageAnswersComponent_div_0_div_1_Template","ctx_r0","answeredForms","ManageAnswersComponent","constructor","answeredFormService","loading","ngOnInit","loadAnswers","ngOnDestroy","subscriptionNewData","unsubscribe","getAnsweredFormsByFormId","formId","subscribe","result","ɵɵdirectiveInject","i1","AnsweredFormService","selectors","inputs","decls","vars","consts","template","ManageAnswersComponent_Template","rf","ctx","ManageAnswersComponent_div_0_Template"],"sources":["C:\\Важное\\6 семестр =)\\Практыка\\Проект\\questionnaire\\angular-questionnaire\\src\\app\\components\\manage-answers\\manage-answers.component.ts","C:\\Важное\\6 семестр =)\\Практыка\\Проект\\questionnaire\\angular-questionnaire\\src\\app\\components\\manage-answers\\manage-answers.component.html"],"sourcesContent":["import {Component, Input, OnDestroy, OnInit} from '@angular/core';\r\nimport {AnsweredForm} from \"../../entity/AnsweredForm\";\r\nimport {Subscription} from \"rxjs\";\r\nimport {AnsweredFormService} from \"../../service/answered-form.service\";\r\n\r\n@Component({\r\n  selector: 'app-manage-answers',\r\n  templateUrl: './manage-answers.component.html',\r\n  styleUrls: ['./manage-answers.component.css']\r\n})\r\nexport class ManageAnswersComponent implements OnInit, OnDestroy {\r\n  @Input() formId: bigint;\r\n\r\n  answeredForms: AnsweredForm[];\r\n\r\n  private answeredFormService: AnsweredFormService;\r\n\r\n  loading = false;\r\n\r\n  private subscriptionNewData: Subscription;\r\n\r\n  constructor(answeredFormService: AnsweredFormService) {\r\n    this.answeredFormService = answeredFormService;\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.loadAnswers();\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    if (this.subscriptionNewData)\r\n      this.subscriptionNewData.unsubscribe();\r\n  }\r\n\r\n  private loadAnswers() {\r\n    this.loading = true;\r\n\r\n    if (this.subscriptionNewData)\r\n      this.subscriptionNewData.unsubscribe();\r\n\r\n    this.subscriptionNewData = this.answeredFormService.getAnsweredFormsByFormId(this.formId)\r\n      .subscribe(result => {\r\n        this.answeredForms = result;\r\n\r\n        this.loading = false;\r\n      });\r\n  }\r\n}\r\n","<div *ngIf=\"!loading\">\r\n  <div *ngFor=\"let answeredForm of answeredForms\">\r\n    <div class=\"border-2 border-gray-300 rounded-xl mt-1 mb-1\">\r\n      <app-answered-form-item\r\n        [answeredForm]=\"answeredForm\"\r\n      ></app-answered-form-item>\r\n    </div>\r\n    <p class=\"text-xl text-black text-center my-0\">\r\n      * * *\r\n    </p>\r\n  </div>\r\n</div>\r\n"],"mappings":";;;;;;ICCEA,EAAA,CAAAC,cAAA,UAAgD;IAE5CD,EAAA,CAAAE,SAAA,gCAE0B;IAC5BF,EAAA,CAAAG,YAAA,EAAM;IACNH,EAAA,CAAAC,cAAA,WAA+C;IAC7CD,EAAA,CAAAI,MAAA,cACF;IAAAJ,EAAA,CAAAG,YAAA,EAAI;;;;IALAH,EAAA,CAAAK,SAAA,GAA6B;IAA7BL,EAAA,CAAAM,UAAA,iBAAAC,eAAA,CAA6B;;;;;IAJrCP,EAAA,CAAAC,cAAA,UAAsB;IACpBD,EAAA,CAAAQ,UAAA,IAAAC,2CAAA,iBASM;IACRT,EAAA,CAAAG,YAAA,EAAM;;;;IAV0BH,EAAA,CAAAK,SAAA,GAAgB;IAAhBL,EAAA,CAAAM,UAAA,YAAAI,MAAA,CAAAC,aAAA,CAAgB;;;ADShD,OAAM,MAAOC,sBAAsB;EAWjCC,YAAYC,mBAAwC;IAJpD,KAAAC,OAAO,GAAG,KAAK;IAKb,IAAI,CAACD,mBAAmB,GAAGA,mBAAmB;EAChD;EAEAE,QAAQA,CAAA;IACN,IAAI,CAACC,WAAW,EAAE;EACpB;EAEAC,WAAWA,CAAA;IACT,IAAI,IAAI,CAACC,mBAAmB,EAC1B,IAAI,CAACA,mBAAmB,CAACC,WAAW,EAAE;EAC1C;EAEQH,WAAWA,CAAA;IACjB,IAAI,CAACF,OAAO,GAAG,IAAI;IAEnB,IAAI,IAAI,CAACI,mBAAmB,EAC1B,IAAI,CAACA,mBAAmB,CAACC,WAAW,EAAE;IAExC,IAAI,CAACD,mBAAmB,GAAG,IAAI,CAACL,mBAAmB,CAACO,wBAAwB,CAAC,IAAI,CAACC,MAAM,CAAC,CACtFC,SAAS,CAACC,MAAM,IAAG;MAClB,IAAI,CAACb,aAAa,GAAGa,MAAM;MAE3B,IAAI,CAACT,OAAO,GAAG,KAAK;IACtB,CAAC,CAAC;EACN;;AApCWH,sBAAsB,C;mBAAtBA,sBAAsB,EAAAZ,EAAA,CAAAyB,iBAAA,CAAAC,EAAA,CAAAC,mBAAA;AAAA;AAAtBf,sBAAsB,C;QAAtBA,sBAAsB;EAAAgB,SAAA;EAAAC,MAAA;IAAAP,MAAA;EAAA;EAAAQ,KAAA;EAAAC,IAAA;EAAAC,MAAA;EAAAC,QAAA,WAAAC,gCAAAC,EAAA,EAAAC,GAAA;IAAA,IAAAD,EAAA;MCVnCnC,EAAA,CAAAQ,UAAA,IAAA6B,qCAAA,iBAWM;;;MAXArC,EAAA,CAAAM,UAAA,UAAA8B,GAAA,CAAArB,OAAA,CAAc"},"metadata":{},"sourceType":"module","externalDependencies":[]}